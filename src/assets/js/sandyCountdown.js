jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,a){return jQuery.easing[jQuery.easing.def](t,e,n,i,a)},easeInQuad:function(t,e,n,i,a){return i*(e/=a)*e+n},easeOutQuad:function(t,e,n,i,a){return-i*(e/=a)*(e-2)+n},easeInOutQuad:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,a){return i*(e/=a)*e*e+n},easeOutCubic:function(t,e,n,i,a){return i*((e=e/a-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,a){return i*(e/=a)*e*e*e+n},easeOutQuart:function(t,e,n,i,a){return-i*((e=e/a-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,a){return i*(e/=a)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,a){return i*((e=e/a-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,a){return-i*Math.cos(e/a*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,a){return i*Math.sin(e/a*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,a){return-i/2*(Math.cos(Math.PI*e/a)-1)+n},easeInExpo:function(t,e,n,i,a){return 0==e?n:i*Math.pow(2,10*(e/a-1))+n},easeOutExpo:function(t,e,n,i,a){return e==a?n+i:i*(-Math.pow(2,-10*e/a)+1)+n},easeInOutExpo:function(t,e,n,i,a){return 0==e?n:e==a?n+i:(e/=a/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(-Math.pow(2,-10*--e)+2)+n},easeInCirc:function(t,e,n,i,a){return-i*(Math.sqrt(1-(e/=a)*e)-1)+n},easeOutCirc:function(t,e,n,i,a){return i*Math.sqrt(1-(e=e/a-1)*e)+n},easeInOutCirc:function(t,e,n,i,a){return(e/=a/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,a){var r=1.70158,o=0,s=i;if(0==e)return n;if(1==(e/=a))return n+i;if(o||(o=.3*a),s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return-(s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/o))+n},easeOutElastic:function(t,e,n,i,a){var r=1.70158,o=0,s=i;if(0==e)return n;if(1==(e/=a))return n+i;if(o||(o=.3*a),s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*e)*Math.sin((e*a-r)*(2*Math.PI)/o)+i+n},easeInOutElastic:function(t,e,n,i,a){var r=1.70158,o=0,s=i;if(0==e)return n;if(2==(e/=a/2))return n+i;if(o||(o=a*(.3*1.5)),s<Math.abs(i)){s=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/s);return 1>e?-.5*(s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/o))+n:s*Math.pow(2,-10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/o)*.5+i+n},easeInBack:function(t,e,n,i,a,r){return void 0==r&&(r=1.70158),i*(e/=a)*e*((r+1)*e-r)+n},easeOutBack:function(t,e,n,i,a,r){return void 0==r&&(r=1.70158),i*((e=e/a-1)*e*((r+1)*e+r)+1)+n},easeInOutBack:function(t,e,n,i,a,r){return void 0==r&&(r=1.70158),(e/=a/2)<1?i/2*(e*e*(((r*=1.525)+1)*e-r))+n:i/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+n},easeInBounce:function(t,e,n,i,a){return i-jQuery.easing.easeOutBounce(t,a-e,0,i,a)+n},easeOutBounce:function(t,e,n,i,a){return(e/=a)<1/2.75?i*(7.5625*e*e)+n:2/2.75>e?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,a){return a/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,i,a)+n:.5*jQuery.easing.easeOutBounce(t,2*e-a,0,i,a)+.5*i+n}});var debug=function(){"use strict";return{log:function(t){console.log(t)},logOnce:function(t,e){return"undefined"==typeof this.logOnce[t+"logged"]?(this.logOnce[t+"logged"]=!0,console.log(e),!0):!1}}}(),Utility=function(){"use strict";return{_easing:function(t){return $.easing[t]?$.easing[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on jQuery.tooltip"):$.easing.linear.apply(this,arguments)}}}();!function(){"use strict";Utility.Date={},Utility.Date.setDateTimestamp=function(t){return void 0===t?(new Date).getTime():t instanceof Date?t.getTime():t},Utility.Date.dateComponents={seconds:60,minutes:60,hours:24,days:7,weeks:4.348125,months:12},Utility.Date.convertSecondsToDateComponents=function(t){var e={},n=t;for(var i in Utility.Date.dateComponents)if(0!==n&&t>0){var a=Utility.Date.dateComponents[i];e[i]=parseInt(n%a,10),n=parseInt(n/a,10)}else e[i]=0;return 0!==n&&t>0&&(e[i]+=n*Utility.Date.dateComponents[i]),e}}(),function(){"use strict";Utility.Cookies={},Utility.Cookies.create=function(t,e,n){var i="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),i="; expires="+a.toGMTString()}document.cookie=t+"="+e+i+"; path=/"},Utility.Cookies.read=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return null},Utility.Cookies.erase=function(t){this.create(t,"",-1)}}(),function(){"use strict";Utility.Browser={},Utility.Browser.setupAnimationFrameFunctions=function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),i=Math.max(0,16-(n-t)),a=window.setTimeout(function(){e(n+i)},i);return t=n+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}}();var Timer=function(){"use strict";function t(t,e,n){this.timer=Utility.Date.setDateTimestamp(t),this.slowMotionRatio=1,void 0!==e&&(this.slowMotionRatio=e),this.elapsedTime=0,void 0!==n&&(this.elapsedTime=n)}var e=function(){var t=(new Date).getTime()-this.timer;return this.timer=(new Date).getTime(),t/=this.slowMotionRatio,this.elapsedTime+=t,t};return t.prototype={getElapsedTime:function(){return e.call(this),this.elapsedTime},getRemainingTime:function(t){return t-this.getElapsedTime()},setSlowMotionRatio:function(t){return this.slowMotionRatio=t,this}},t}(),UserManager=function(){"use strict";var t="userManagerCookie",e=!1;return{setCookieName:function(e){t=e},isUserFirstVisit:function(){return e||null===Utility.Cookies.read(t)},getFirstUserVisitTimestamp:function(){var n=Utility.Cookies.read(t);return null===n&&(n=this.setFirstUserVisitTimestamp(),e=!0),n},setFirstUserVisitTimestamp:function(e){var n=Utility.Date.setDateTimestamp(e);return Utility.Cookies.create(t,n,100),n},resetUserVisit:function(){Utility.Cookies.erase(t)}}}(),CanvasManager=function($){"use strict";function t(){if(window.devicePixelRatio>1){var t=n.attr("width"),e=n.attr("height");return n.attr("width",t*window.devicePixelRatio),n.attr("height",e*window.devicePixelRatio),i.scale(window.devicePixelRatio,window.devicePixelRatio),!0}return!1}var e=null,n=null,i=null,a=!1,r=1;return{initCanvas:function(r,o){return e=r,e.getContext?(n=$(e),i=r.getContext("2d"),o===!0&&(a=t()),i):!1},isRetina:function(){return a},getCanvas:function(){return null!==i&&i!==!1?i.canvas:(null===i?$.error("Trying to get canvas when it doesn't exist or intentionaly left out in the config"):$.error("Trying to get canvas when it isn't supported"),!1)},getContext:function(){return i},setScale:function(t){r=t},getCanvasCenter:function(t){return"undifined"==typeof t&&(t=!1),("undefined"==typeof this.getCanvasCenter.center||t===!0)&&(this.getCanvasCenter.center={x:e.width/2,y:e.height/2},a&&(this.getCanvasCenter.center.x/=window.devicePixelRatio,this.getCanvasCenter.center.y/=window.devicePixelRatio),this.getCanvasCenter.center.x/=r,this.getCanvasCenter.center.y/=r),this.getCanvasCenter.center}}}(jQuery),PathManager=function(){"use strict";var t;return{setContext:function(e){return t=e,this},edgePath:function(){return t.beginPath(),t.moveTo(181.71,.09),t.lineTo(5.92,.09),t.bezierCurveTo(2.96,.09,.57,2.48,.57,5.44),t.bezierCurveTo(.57,5.44,2.96,10.78,5.92,10.78),t.lineTo(181.71,10.78),t.bezierCurveTo(184.66,10.78,187.05,8.39,187.05,5.44),t.bezierCurveTo(187.05,5.44,184.66,.09,181.71,.09),t.closePath(),t.fill(),t.stroke(),this},watchPath:function(){return t.beginPath(),t.moveTo(1,221),t.bezierCurveTo(5.32,179.93,16.18,159.62,41.18,148.46),t.bezierCurveTo(48.5,145.2,55.53,140.45,61.45,135.03),t.bezierCurveTo(77.5,120.37,77.09,100.16,60.72,85.88),t.bezierCurveTo(55.13,80.99,48.56,77.18,42.31,73.08),t.bezierCurveTo(23.42,60.66,9.32,44.57,3.83,22.16),t.bezierCurveTo(2.29,15.84,2.04,9.2,1.17,2.43),t.bezierCurveTo(53.52,2.43,104.56,2.43,157.13,2.43),t.bezierCurveTo(155.42,11.3,154.62,19.79,152.1,27.73),t.bezierCurveTo(145.29,49.12,130.28,63.79,111.67,75.47),t.bezierCurveTo(104.96,79.69,98.24,84.37,92.86,90.09),t.bezierCurveTo(81.79,101.83,81.82,118.01,91.89,130.65),t.bezierCurveTo(98.49,138.94,107.19,144.59,116.7,148.73),t.bezierCurveTo(139.98,158.87,151.14,177.57,154.9,201.6),t.bezierCurveTo(155.89,207.9,155.96,214.35,156.49,221.3),t.closePath(),this}}}(),DrawManager=function(){"use strict";var t,e;return{setContext:function(e){return t=e,this},setPathManager:function(t){return e=t,this},drawWatchBody:function(n,i){t.fillStyle=n||"black",t.strokeStyle=i||"#333",t.lineWidth=3,e.watchPath(),t.fill(),t.stroke()},drawEdge:function(n){t.fillStyle=n,t.lineWidth=0,t.strokeStyle="none",e.edgePath()},drawSand:function(e,n,i){t.fillStyle=i,"top"===e?t.fillRect(0,0,t.canvas.width,n):"bottom"===e&&t.fillRect(0,0,t.canvas.width,-n)},drawBottomSandEffect:function(e,n){t.save(),t.rotate(Math.PI),t.scale(.4,.4),t.translate(-235,250-e/.4),t.beginPath(),t.moveTo(1.7,23.4),t.bezierCurveTo(1.7,23.4,36.2,-20.3,149.9,13),t.bezierCurveTo(263.7,46.4,286.7,11.9,349.9,6.1),t.bezierCurveTo(413.2,.4,466,29.1,466,29.1),t.lineTo(464.9,52.1),t.lineTo(.5,49.8),t.lineTo(1.7,23.4),t.closePath(),t.fillStyle=n,t.fill(),t.restore()},drawTopSandEffect:function(e,n){t.save(),t.rotate(Math.PI),t.translate(-80,72-e),t.beginPath(),t.moveTo(0,0),t.bezierCurveTo(1.7,55.9,45.3,27.7,90.1,30),t.bezierCurveTo(112,31.1,127.2,39.1,158.3,23.1),t.bezierCurveTo(181.3,11.1,213.4,-8,244.5,4.7),t.bezierCurveTo(279.2,18.8,285,43.7,329.2,35.7),t.bezierCurveTo(386.6,25.4,397,35.7,423.4,39.5),t.lineTo(422.3,55.3),t.lineTo(1.7,55.9),t.closePath(),t.fillStyle=n,t.fill(),t.restore()},clipWatchBody:function(){t.globalAlpha="1.0",t.lineWidth=600,e.watchPath(),t.fill(),t.stroke()}}}(),RenderManager=function(){"use strict";function t(t,e,n,a){var s=i.height/2*n;r.save(),r.translate(t.x,t.y),r.rotate(e),DrawManager.drawBottomSandEffect(i.height-s,o.sand),DrawManager.drawTopSandEffect(s-10,o.sand),r.translate(-i.width/2,-i.height/2),r.save(),r.translate(i.width/2-t.x,1),DrawManager.drawSand("top",s-10,o.sand),r.translate(0,i.height-s-1),DrawManager.drawSand("bottom",i.height/2-s-10,o.sand),r.restore(),r.globalCompositeOperation="destination-in",DrawManager.clipWatchBody(),r.globalCompositeOperation="destination-over",DrawManager.drawWatchBody(o.fill,o.stroke),"function"==typeof a&&a.call(r,o),r.restore()}function e(t,e){r.save(),r.translate(t.x,t.y),r.rotate(e),r.translate(-a.width/2+2,-i.height/2-a.height+3),DrawManager.drawEdge(o.stroke),r.translate(0,i.height+a.height-4),DrawManager.drawEdge(o.stroke),r.restore()}function n(t,e){var i=0;for(void 0===n.particles&&(n.particles=[]),i=0;e>i;i++)n.particles.push({x:t.x+9*Math.random()-5,y:t.y-10});for(r.restore(),r.fillStyle=o.sand,i=0;i<n.particles.length;i++)r.beginPath(),r.arc(n.particles[i].x,n.particles[i].y,.5*window.devicePixelRatio,0,2*Math.PI,!1),r.fill(),n.particles[i].y+=window.devicePixelRatio,n.particles[i].y>=259/s&&n.particles.splice(i,1)}var i={width:156,height:222},a={width:188,height:11},r,o={sand:"#fff",fill:"#000",stroke:"#333"},s=1;return{initWithContext:function(t){return r=t,PathManager.setContext(t),DrawManager.setContext(t).setPathManager(PathManager),r.scale(s,s),this},clearContext:function(){r.clearRect(0,0,r.canvas.width,r.canvas.height)},setColors:function(t){o=$.extend(o,t)},setScale:function(t){s=t},renderWatchBody:function(n,i,a,r){t(n,i,a,r),e(n,i)},renderWatchBodyWithSandAnimation:function(i,a,r){t(i,a,r,function(){n(i,2)}),e(i,a)}}}(),AnimationManager=function(){"use strict";function t(t){RenderManager.renderWatchBody(CanvasManager.getCanvasCenter(),Math.PI,t)}function e(n,a,r){"undefined"==typeof e.angle&&(e.angle=0),e.animation_id=requestAnimationFrame(function(){e(n,a,r)}),RenderManager.clearContext(),e.angle=Utility._easing(i,null,n.getElapsedTime(),0,Math.PI,1e3),RenderManager.renderWatchBody(CanvasManager.getCanvasCenter(),e.angle,a),e.angle>Math.PI&&(cancelAnimationFrame(e.animation_id),RenderManager.clearContext(),t(a),r.call())}function n(e,i,a){n.animation_id=requestAnimationFrame(function(){n(e,i,a)}),RenderManager.clearContext(),n.level=Utility._easing("easeInQuad",null,e.getElapsedTime(),0,1,i),RenderManager.renderWatchBodyWithSandAnimation(CanvasManager.getCanvasCenter(),Math.PI,n.level),n.level>=1&&(cancelAnimationFrame(n.animation_id),RenderManager.clearContext(),t(1),a.call())}var i="easeInSine",a=null,r=(new Date).getTime(),o=(new Date).getTime();return Utility.Browser.setupAnimationFrameFunctions(),{initWithContext:function(t){return a=t,RenderManager.initWithContext(t),this},startAnimatingWatchRotation:function(n,i){var a=this,s=new Timer,u=o-r,c=Utility._easing("easeInQuad",null,(new Date).getTime()-r,0,1,u);return n?e(s,c,function(){i.call(a)}):(t(c),i.call(a)),this},startAnimatingSand:function(t){var e=this,i=new Timer(r),a=o-r;return n(i,a,function(){"function"==typeof t&&t.call(e)}),this},setAnimationEasing:function(t){return t=t,this},setColors:function(t){return RenderManager.setColors(t),this},setFirstVisitTimestamp:function(t){return r=Utility.Date.setDateTimestamp(t),this},setFinishDateTimestamp:function(t){return o=Utility.Date.setDateTimestamp(t),this}}}(),TextualCountdownManager=function($){"use strict";var t,e,n=[],i,a="SCDateComponent",r=function(t,e){return e},o,s=function(t){var e=parseInt(i.getRemainingTime(t)/1e3,10),a=Utility.Date.convertSecondsToDateComponents(e),o=0;for(var s in a){var u=r(s,a[s]);n[o].text(u),o++}};return{init:function(n,a,r){return t=n,e=a,i=r,this},initWithCounterAndFinishTime:function(t,e){this.init(t,$(t),new Timer);var n=Utility.Date.setDateTimestamp(e)-(new Date).getTime();return this.populateContainerWithDateComponents(),o=setInterval(function(){s(n)},1e3),this},setMainClass:function(t){return a=t,this},setFormaterFunction:function(t){return r=t,this},populateContainerWithDateComponents:function(){for(var t in Utility.Date.dateComponents){var i=[a,a+"--"+t],r="."+i.join("."),o=$(r);0===o.length&&(o=$("<span/>").addClass(i.join(" ")),e.prepend(o)),n.push(o)}}}}(jQuery);!function($){"use strict";var t=function(t,e){var n=document.getElementById(t.canvasID);if(null===n)$.error("Can't find the canvas with the provided id: #"+t.canvasID);else if(CanvasManager.initCanvas(n,t.retinaSupport)===!1)this.trigger("sandyCountdown.canvasUnsupported");else if(RenderManager.setScale(t.scale),CanvasManager.setScale(t.scale),e)RenderManager.initWithContext(CanvasManager.getContext()).renderWatchBody(CanvasManager.getCanvasCenter(),Math.PI,1);else{var i=!0;void 0!==this.startDate?AnimationManager.setFirstVisitTimestamp(this.startDate):(AnimationManager.setFirstVisitTimestamp(UserManager.getFirstUserVisitTimestamp()),i=UserManager.isUserFirstVisit()),AnimationManager.initWithContext(CanvasManager.getContext()).setAnimationEasing("easeInSine").setColors(t.colors).setFinishDateTimestamp(this.finishDate).startAnimatingWatchRotation(i,function(){this.startAnimatingSand()})}},e=function(t){var e=document.getElementById(t.counterID);null===e?$.error("can't find the counter div with the provided id: #"+t.counterID):TextualCountdownManager.setMainClass(t.dateComponentsMainClass).setFormaterFunction(t.dateCompnentsFormaterFunction).initWithCounterAndFinishTime(e,this.finishDate)},n=function(t){return void 0!==t.startDate&&(t.startDate=$.extend({day:1,month:1,year:(new Date).getFullYear()},t.startDate)),t.startTime=$.extend({hour:0,minute:0,second:0},t.startTime),t.finishDate=$.extend({day:1,month:1,year:(new Date).getFullYear()},t.finishDate),t.finishTime=$.extend({hour:0,minute:0,second:0},t.finishTime),t.colors=$.extend({sand:"#fff",fill:"#000",stroke:"#333"},t.colors),$.extend({scale:1,userVisitCookie:"SCountdownVisit",dateComponentsMainClass:"SCDateComponent",dateCompnentsFormaterFunction:function(t,e){return e},retinaSupport:!0},t)},i={init:function(i){var a=n.call(this,i);UserManager.setCookieName(a.userVisitCookie),void 0!==a.startDate&&(this.startDate=new Date(Date.UTC(a.startDate.year,a.startDate.month-1,a.startDate.day,a.startTime.hour,a.startTime.minute,a.startTime.second))),this.finishDate=new Date(Date.UTC(a.finishDate.year,a.finishDate.month-1,a.finishDate.day,a.finishTime.hour,a.finishTime.minute,a.finishTime.second)),this.finishDate>new Date?(void 0!==a.canvasID&&t.call(this,a,!1),void 0!==a.counterID&&e.call(this,a)):void 0!==a.canvasID&&t.call(this,a,!0)},getCanvas:function(){return CanvasManager.getCanvas()},isRetina:function(){return CanvasManager.isRetina()},getFinishDate:function(){return this.finishDate}};$.fn.SCountdown=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on jQuery.snadyCountdown"):i.init.apply(this,arguments)}}(jQuery);