<div class="title_heading">
  <div class="col-md-12 col-sm-12">
    <div class="title_text pull-left" id="abc">
      <i class="fa fa-file-code-o" aria-hidden="true"></i>assessment test
    </div>
    <div class="col-md-8 col-sm-8">
      <div class="welcome_message alert" role="alert">
        <i class="fa fa-info"></i>Welcome back,
        <strong>{{globals.authData.FirstName}} {{globals.authData.LastName}}! </strong>
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
  <div class="breadcrumb_block">
    <div class="col-md-6 col-sm-6">
      <ul class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="#">
            <i class="fa fa-home"></i>
          </a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">Assessment Test</li>
      </ul>
      <div class="clearfix"></div>
    </div>
    <div class="col-md-6 col-sm-6">
    </div>
    <div class="clearfix"></div>
  </div>
  <div class="clearfix"></div>
</div>
<div class="course_assessment_section content_block">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-sm-8">
        <div class="course_quiz_header">
          <h1>{{assessmentEntity.CourseFullName}} 
          </h1>
          <p>Instructors :
            <span>{{assessmentEntity.user}}</span>
          </p>
          <!-- <button type="button" class="next_btn" data-toggle="modal" data-target="#myModal">Open Modal</button> -->
        </div>
      </div>
      <div class="col-md-4 col-sm-4">
        <div class="quiz_timer">
          <!-- <h6>Time Remaining</h6>
                    <div id="countdown"></div> -->
          <div id="cercleContainer">
            <div id="cercle"></div>

            <div id="cercleContent">
              <div id="sandyCountdown">
                <canvas id="sandyCanvas" class="sandyWatch" width="300" height="300"></canvas>
                <div id="sandyCounter" class="sandyCounter">
                      <div  id="countdown"></div>  <p id="demo"></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="clearfix"></div>
      <div class="col-md-12 col-sm-12">
        <div class="progress">
          <div id="progress" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">
            {{percent}}% ({{anstotalcount}}/{{TotalQuestion}})
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="row">
      <div class="col-md-12 col-sm-12">
        <div class="review_indicate pull-right">
          <p>
            <i class="fa fa-star" aria-hidden="true"></i> Indicates Mark as Review Questions</p>
        </div>
      </div>
    </div> -->
    <div class="margin_slider_block">
      <div class="wrapper">
        <div class="assessment_wrap_bottom">
          <h3 class="pull-left">Questions</h3>
            <div class="dropdown_checkbox pull-right">
              <div class="check_box">
                <input type="checkbox" name="Check1" id="Check1" value="Check1" (click)="All()">
                <label for="Check1" title="All" class="checkboxbtn_label"> All</label>
              </div>
              <div class="check_box">
                <input type="checkbox" name="Check2" id="Check2" value="Check1" (click)="All()">
                <label for="Check2" title="UnAnswered Questions" class="checkboxbtn_label">UnAnswered Questions</label>
              </div>
              <div class="check_box">
                <input type="checkbox" name="Check3" id="Check3" value="Check1" (click)="All()">
                <label for="Check3" title="Mark as Reviewed" class="checkboxbtn_label">Mark as Reviewed</label>
              </div>
            <!-- <div class="dropdown_checkbox">
                <div class="radiobtn">
                  <input type="radio" id="All" name="drone" value="All" checked (click)="All()" />
                  <label for="All">All</label>
                </div>
                <div class="radiobtn">
                  <input type="radio" id="UnAnswred" name="drone" value="UnAnswred" (click)="UnAnswredQuestions()" />
                  <label for="UnAnswred">UnAnswered Questions</label>
                </div>
                <div class="radiobtn">
                  <input type="radio" id="Reviewed" name="drone" value="Reviewed" (click)="MarkReviewed()" />
                  <label for="Reviewed">Mark as Reviewed</label>
                </div>
              </div> -->
          </div>
          <div class="legend_assessment pull-right">
            <ul>
              <li class="text">
                <i class="fa fa-check"></i>Answered
              </li>
              <li class="text">
                <i class="fa fa-star"></i>Marked as Review
              </li>
            </ul>
          </div>

          <div class="clearfix"></div>

          <div class="clearfix"></div>

          <div class="assessment_que_wrapper">
            <div class="assessment_que_preview">
              <div class="flexslider carousel">
                <ul class="slides">
  
                  <li *ngFor="let question of questionlist; let i = index;">
                    <div class="questionblock">
                      <div [ngClass]="{'complete':question.OptionId>0}" id="test{{i}}">
                        <i *ngIf="question.OptionId>0" class="fa fa-check" aria-hidden="true"></i>
                      </div>
                      <div class="mark_review" *ngIf="question.MarkasReview==1">
                        <i class="fa fa-star" aria-hidden="true"></i>
                      </div>
                      <div class="number">{{question.SerialNo}}</div>
                    </div>
                
                  </li>
                  
                </ul>
                
              

              </div>
              <div *ngIf="questionlist==null" class="no_que"> No question found</div>
              <div class="flexslider slider">
                <ul class="slides">
    
                  <li *ngFor="let question of questionlist; let i = index;">
                    <div class="assessment_que_info">
                      <div class="row">
                        <div class="col-md-12 col-sm-12">
                          <div class="assessment_que_ans_block">
                            <div class="que_block">
                              <h4>Question {{i+1}} :</h4>
                              <h3 [innerHTML]="question.QuestionName"></h3>
                              <!-- <p>What were your major achievements in the past year?</p> -->
                            </div>
                            <div class="ans_block">
                              <!-- <div class="quiz_ans_right">
                                <input type="radio" name="rb" id="rb1" />
                                <label for="rb1">Check this</label>
                              </div> -->
                              <div class="quiz_ans_right" *ngFor="let questionchild of question.child; let j = index;">
                                  <input type="radio" name="OptionId{{i}}" [checked]="questionchild.OptionId==question.OptionId" id="OptionId{{i}}{{j}}" (change)="QuestionChange(questionchild.OptionId,question.QuestionId,question.ResultId,i)"
                                  />
                                  <label for="OptionId{{i}}{{j}}">{{questionchild.OptionValue}}</label>
                                </div>
                             
                            </div>
                            <div class="mark_review_btn">
                              <span>Mark as Review</span>
                              <!-- <div class="activeyes_box">
                                <input type="checkbox" name="active11" id="active11" checked value="Yes">
                                <label for="active11"></label>
                              </div> -->
                              <div class="activeyes_box" data-toggle="tooltip" data-placement="top" [attr.title]="question.MarkasReview==1 ? 'Active' : 'Deactive'">
                                  <input type="checkbox" name="MarkasReview" id="MarkasReview{{i}}" (change)="questionactive(question,i)" [checked]="question.MarkasReview==1"
                                    value="Yes">
                                  <label for="MarkasReview{{i}}"></label>
                                </div>
                            </div>
                          </div>
                        </div>
                        <div class="clearfix"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-md-12 col-sm-12">
              <div class="text-center buttons_group">
                <!-- <button class="btn next_btn float-right disabled" type="button">
                  Submit
                </button> -->
         

                <button [disabled]="anstotalcount!=TotalQuestion"  class="btn next_btn float-right" data-toggle="modal" (click)="submitans()" type="button">
                    <span>Submit</span>
                  </button>
                <!-- <button class="back_btn float-right" type="button">
                  Save as Draft addass
                </button> -->
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>
      </div>

      <!-- Modal -->
      <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-body">
              <h1>Angular Material 2 Design For Programmers And CSS Newbies</h1>
              <p>Instructors :
                <span>Anand,</span>
                <span>Krupali,</span>
                <span>Vidhi</span>
              </p>
              <div class="quiz_overview">
                <ul>
                  <li>
                    <i class="fa fa-clock-o" aria-hidden="true"></i>Duration
                    <span class="pull-right"> 1 Hour</span>
                  </li>
                  <li>
                    <i class="fa fa-question-circle" aria-hidden="true"></i>Total Questions
                    <span class="pull-right"> 8</span>
                  </li>
                  <li>
                    <i class="fa fa-users" aria-hidden="true"></i>Total Marks
                    <span class="pull-right"> 40</span>
                  </li>
                  <li>
                    <i class="fa fa-percent" aria-hidden="true"></i>Pass Percentage
                    <span class="pull-right"> 60</span>
                  </li>
                  <li>
                    <i class="fa fa-pie-chart" aria-hidden="true"></i>Includes Negative Grades
                    <span class="pull-right"> True</span>
                  </li>
                  <li>
                    <i class="fa fa-user-plus" aria-hidden="true"></i>Auto Evaluation
                    <span class="pull-right"> True</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="modal-footer">
              <button class="back_btn">
                <i class="fa fa-angle-double-left" aria-hidden="true"></i> Back To Course</button>
              <button type="button" class="next_btn" data-dismiss="modal">Start Quiz</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div id="assessment_preview_modal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title pull-left" id="ModalLabel">Assessment Preview</h5>
        <h5 class="modal-title text-center">Total Questions : {{TotalQuestion}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="assessment_preview assessment_preview_scroll">
          <div class="assessment_preview_block" *ngFor="let question of questionlist; let i = index;">
            <h4>Question {{i+1}}</h4>
            <p [innerHTML]="question.QuestionName"></p>
            <ng-container *ngFor="let questionchild of question.child; let j = index;">
              <div class="answer_block" *ngIf="questionchild.OptionId==question.OptionId">
                <span class="answer_head">
                  Answer
                </span>
                <p>{{questionchild.OptionValue}}.</p>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <span class="pull-left">Are you sure you want to submit?</span>
        <button class="next_btn" type="button" (click)="finalsubmit()">
          <span>Yes</span>
        </button>
        <button class="back_btn" type="button" data-dismiss="modal">
          <span>No</span>
        </button>
      </div>
    </div>
  </div>
</div>
<!--modal popup for preview-->